2025-10-06 11:34:37.117 -03:00 [WRN] The 'ContactRelation' property 'Relation' on entity type 'Contact' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value 'familia', since this is the CLR default for the 'ContactRelation' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-06 11:37:11.205 -03:00 [WRN] The 'ContactRelation' property 'Relation' on entity type 'Contact' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value 'familia', since this is the CLR default for the 'ContactRelation' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-06 11:37:11.361 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2025-10-06 11:37:11.404 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-10-06 11:37:11.408 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-10-06 11:37:11.409 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-10-06 11:37:11.416 -03:00 [INF] Applying migration '20251002024201_InitialCreate'.
2025-10-06 11:37:11.472 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "events" (
    "id" character varying(255) NOT NULL CONSTRAINT "pk_events" PRIMARY KEY,
    "title" character varying(500) NOT NULL,
    "date_time" timestamp with time zone NOT NULL,
    "venue_name" character varying(500) NOT NULL,
    "address" character varying(1000) NOT NULL,
    "budget_total" numeric(18,2) NOT NULL DEFAULT '0.0',
    "hosts" text[] NOT NULL,
    "created_at" timestamp with time zone NOT NULL DEFAULT (now()),
    "updated_at" timestamp with time zone NOT NULL
);
2025-10-06 11:37:11.473 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "households" (
    "id" character varying(255) NOT NULL CONSTRAINT "pk_households" PRIMARY KEY,
    "label" character varying(500) NOT NULL,
    "size_cached" integer NOT NULL DEFAULT 1,
    "created_at" timestamp with time zone NOT NULL DEFAULT (now()),
    "updated_at" timestamp with time zone NOT NULL
);
2025-10-06 11:37:11.473 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "vendor_partners" (
    "id" character varying(255) NOT NULL CONSTRAINT "pk_vendor_partners" PRIMARY KEY,
    "user_id" character varying(255) NULL,
    "slug" character varying(255) NOT NULL,
    "company_name" character varying(500) NOT NULL,
    "contact_name" character varying(500) NOT NULL,
    "email" character varying(255) NOT NULL,
    "phone_e164" character varying(50) NOT NULL,
    "instagram_handle" character varying(255) NULL,
    "website_url" character varying(1000) NULL,
    "whatsapp_url" character varying(1000) NULL,
    "city" character varying(255) NOT NULL,
    "state" character varying(100) NOT NULL,
    "country" character varying(10) NOT NULL DEFAULT 'BR',
    "service_radius_km" integer NULL,
    "categories" text[] NOT NULL,
    "price_from_cents" integer NULL,
    "description_short" character varying(280) NULL,
    "description_long" text NULL,
    "status" text NOT NULL DEFAULT 'pending_review',
    "profile_score" integer NOT NULL DEFAULT 0,
    "consent_text" text NULL,
    "consent_at" timestamp with time zone NULL,
    "created_at" timestamp with time zone NOT NULL DEFAULT (now()),
    "updated_at" timestamp with time zone NOT NULL
);
2025-10-06 11:37:11.473 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "event_logs" (
    "id" character varying(255) NOT NULL CONSTRAINT "pk_event_logs" PRIMARY KEY,
    "event_id" character varying(255) NULL,
    "source" character varying(255) NOT NULL,
    "type" character varying(255) NOT NULL,
    "payload_json" jsonb NOT NULL,
    "created_at" timestamp with time zone NOT NULL DEFAULT (now()),
    CONSTRAINT "fk_event_logs_events_event_id" FOREIGN KEY ("event_id") REFERENCES "events" ("id") ON DELETE CASCADE
);
2025-10-06 11:37:11.473 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "message_templates" (
    "id" character varying(255) NOT NULL CONSTRAINT "pk_message_templates" PRIMARY KEY,
    "event_id" character varying(255) NOT NULL,
    "name" character varying(255) NOT NULL,
    "variables" text[] NOT NULL,
    "content_text" text NOT NULL,
    "content_buttons" jsonb NULL,
    "locale" character varying(10) NOT NULL DEFAULT 'pt_BR',
    "created_at" timestamp with time zone NOT NULL DEFAULT (now()),
    "updated_at" timestamp with time zone NOT NULL,
    CONSTRAINT "fk_message_templates_events_event_id" FOREIGN KEY ("event_id") REFERENCES "events" ("id") ON DELETE CASCADE
);
2025-10-06 11:37:11.473 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "segment_tags" (
    "id" character varying(255) NOT NULL CONSTRAINT "pk_segment_tags" PRIMARY KEY,
    "event_id" character varying(255) NOT NULL,
    "name" character varying(255) NOT NULL,
    "rule_json" jsonb NOT NULL,
    "is_dynamic" boolean NOT NULL DEFAULT 1,
    "created_at" timestamp with time zone NOT NULL DEFAULT (now()),
    "updated_at" timestamp with time zone NOT NULL,
    CONSTRAINT "fk_segment_tags_events_event_id" FOREIGN KEY ("event_id") REFERENCES "events" ("id") ON DELETE CASCADE
);
2025-10-06 11:37:11.473 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "tables" (
    "id" character varying(255) NOT NULL CONSTRAINT "pk_tables" PRIMARY KEY,
    "event_id" character varying(255) NOT NULL,
    "label" character varying(255) NOT NULL,
    "capacity" integer NOT NULL,
    "zone" character varying(255) NULL,
    "x" double precision NOT NULL DEFAULT 0.0,
    "y" double precision NOT NULL DEFAULT 0.0,
    "rotation" double precision NOT NULL DEFAULT 0.0,
    "shape" text NOT NULL DEFAULT 'round',
    "created_at" timestamp with time zone NOT NULL DEFAULT (now()),
    "updated_at" timestamp with time zone NOT NULL,
    CONSTRAINT "fk_tables_events_event_id" FOREIGN KEY ("event_id") REFERENCES "events" ("id") ON DELETE CASCADE
);
2025-10-06 11:37:11.474 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "timeline_entries" (
    "id" character varying(255) NOT NULL CONSTRAINT "pk_timeline_entries" PRIMARY KEY,
    "event_id" character varying(255) NOT NULL,
    "actor_type" text NOT NULL,
    "type" text NOT NULL,
    "ref_id" character varying(255) NULL,
    "occurred_at" timestamp with time zone NOT NULL DEFAULT (now()),
    "meta_json" jsonb NULL,
    CONSTRAINT "fk_timeline_entries_events_event_id" FOREIGN KEY ("event_id") REFERENCES "events" ("id") ON DELETE CASCADE
);
2025-10-06 11:37:11.474 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "vendors" (
    "id" character varying(255) NOT NULL CONSTRAINT "pk_vendors" PRIMARY KEY,
    "event_id" character varying(255) NOT NULL,
    "name" character varying(500) NOT NULL,
    "phone" character varying(50) NOT NULL,
    "category" character varying(255) NOT NULL,
    "contract_value" numeric(18,2) NULL,
    "status" text NOT NULL DEFAULT 'ativo',
    "notes" text NULL,
    "created_at" timestamp with time zone NOT NULL DEFAULT (now()),
    "updated_at" timestamp with time zone NOT NULL,
    CONSTRAINT "fk_vendors_events_event_id" FOREIGN KEY ("event_id") REFERENCES "events" ("id") ON DELETE CASCADE
);
2025-10-06 11:37:11.474 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "contacts" (
    "id" character varying(255) NOT NULL CONSTRAINT "pk_contacts" PRIMARY KEY,
    "full_name" character varying(500) NOT NULL,
    "phone" character varying(50) NOT NULL,
    "email" character varying(255) NULL,
    "relation" text NOT NULL DEFAULT 'amigo',
    "notes" text NULL,
    "restrictions_json" jsonb NULL,
    "is_vip" boolean NOT NULL DEFAULT 0,
    "household_id" character varying(255) NULL,
    "created_at" timestamp with time zone NOT NULL DEFAULT (now()),
    "updated_at" timestamp with time zone NOT NULL,
    CONSTRAINT "fk_contacts_households_household_id" FOREIGN KEY ("household_id") REFERENCES "households" ("id") ON DELETE SET NULL
);
2025-10-06 11:37:11.474 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "vendor_media" (
    "id" character varying(255) NOT NULL CONSTRAINT "pk_vendor_media" PRIMARY KEY,
    "vendor_id" character varying(255) NOT NULL,
    "type" text NOT NULL,
    "url" character varying(2000) NOT NULL,
    "width" integer NULL,
    "height" integer NULL,
    "blurhash" character varying(255) NULL,
    "alt" character varying(500) NULL,
    "sort_order" integer NOT NULL DEFAULT 0,
    CONSTRAINT "fk_vendor_media_vendor_partners_vendor_id" FOREIGN KEY ("vendor_id") REFERENCES "vendor_partners" ("id") ON DELETE CASCADE
);
2025-10-06 11:37:11.474 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "vendor_notes" (
    "id" character varying(255) NOT NULL CONSTRAINT "pk_vendor_notes" PRIMARY KEY,
    "vendor_id" character varying(255) NOT NULL,
    "author_user_id" character varying(255) NOT NULL,
    "note_text" text NOT NULL,
    "created_at" timestamp with time zone NOT NULL DEFAULT (now()),
    CONSTRAINT "fk_vendor_notes_vendor_partners_vendor_id" FOREIGN KEY ("vendor_id") REFERENCES "vendor_partners" ("id") ON DELETE CASCADE
);
2025-10-06 11:37:11.474 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "vendor_reviews" (
    "id" character varying(255) NOT NULL CONSTRAINT "pk_vendor_reviews" PRIMARY KEY,
    "vendor_id" character varying(255) NOT NULL,
    "rating" integer NOT NULL,
    "comment" text NULL,
    "author_contact_id" character varying(255) NULL,
    "event_id" character varying(255) NULL,
    "created_at" timestamp with time zone NOT NULL DEFAULT (now()),
    CONSTRAINT "fk_vendor_reviews_vendor_partners_vendor_id" FOREIGN KEY ("vendor_id") REFERENCES "vendor_partners" ("id") ON DELETE CASCADE
);
2025-10-06 11:37:11.474 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "vendor_status_log" (
    "id" character varying(255) NOT NULL CONSTRAINT "pk_vendor_status_log" PRIMARY KEY,
    "vendor_id" character varying(255) NOT NULL,
    "action" text NOT NULL,
    "actor_user_id" character varying(255) NULL,
    "reason" text NULL,
    "created_at" timestamp with time zone NOT NULL DEFAULT (now()),
    CONSTRAINT "fk_vendor_status_log_vendor_partners_vendor_id" FOREIGN KEY ("vendor_id") REFERENCES "vendor_partners" ("id") ON DELETE CASCADE
);
2025-10-06 11:37:11.475 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "seats" (
    "id" character varying(255) NOT NULL CONSTRAINT "pk_seats" PRIMARY KEY,
    "table_id" character varying(255) NOT NULL,
    "index" integer NOT NULL,
    "x" double precision NOT NULL DEFAULT 0.0,
    "y" double precision NOT NULL DEFAULT 0.0,
    "rotation" double precision NOT NULL DEFAULT 0.0,
    CONSTRAINT "fk_seats_tables_table_id" FOREIGN KEY ("table_id") REFERENCES "tables" ("id") ON DELETE CASCADE
);
2025-10-06 11:37:11.475 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "tasks" (
    "id" character varying(255) NOT NULL CONSTRAINT "pk_tasks" PRIMARY KEY,
    "event_id" character varying(255) NOT NULL,
    "title" character varying(500) NOT NULL,
    "assignee_user_id" character varying(255) NULL,
    "due_at" timestamp with time zone NULL,
    "status" text NOT NULL DEFAULT 'aberta',
    "sla_hours" integer NULL,
    "related_vendor_id" character varying(255) NULL,
    "description" text NULL,
    "created_at" timestamp with time zone NOT NULL DEFAULT (now()),
    "updated_at" timestamp with time zone NOT NULL,
    CONSTRAINT "fk_tasks_events_event_id" FOREIGN KEY ("event_id") REFERENCES "events" ("id") ON DELETE CASCADE,
    CONSTRAINT "fk_tasks_vendors_related_vendor_id" FOREIGN KEY ("related_vendor_id") REFERENCES "vendors" ("id") ON DELETE SET NULL
);
2025-10-06 11:37:11.475 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "consent_logs" (
    "id" character varying(255) NOT NULL CONSTRAINT "pk_consent_logs" PRIMARY KEY,
    "contact_id" character varying(255) NOT NULL,
    "source" text NOT NULL,
    "action" text NOT NULL,
    "text" text NULL,
    "created_at" timestamp with time zone NOT NULL DEFAULT (now()),
    CONSTRAINT "fk_consent_logs_contacts_contact_id" FOREIGN KEY ("contact_id") REFERENCES "contacts" ("id") ON DELETE RESTRICT
);
2025-10-06 11:37:11.475 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "engagement_scores" (
    "contact_id" character varying(255) NOT NULL,
    "event_id" character varying(255) NOT NULL,
    "value" integer NOT NULL DEFAULT 0,
    "tier" text NOT NULL DEFAULT 'bronze',
    "updated_at" timestamp with time zone NOT NULL,
    CONSTRAINT "pk_engagement_scores" PRIMARY KEY ("contact_id", "event_id"),
    CONSTRAINT "fk_engagement_scores_contacts_contact_id" FOREIGN KEY ("contact_id") REFERENCES "contacts" ("id") ON DELETE RESTRICT,
    CONSTRAINT "fk_engagement_scores_events_event_id" FOREIGN KEY ("event_id") REFERENCES "events" ("id") ON DELETE CASCADE
);
2025-10-06 11:37:11.475 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "gift_registry_items" (
    "id" character varying(255) NOT NULL CONSTRAINT "pk_gift_registry_items" PRIMARY KEY,
    "event_id" character varying(255) NOT NULL,
    "title" character varying(500) NOT NULL,
    "link" character varying(2000) NULL,
    "price" numeric(18,2) NULL,
    "status" text NOT NULL DEFAULT 'disponivel',
    "buyer_contact_id" character varying(255) NULL,
    "created_at" timestamp with time zone NOT NULL DEFAULT (now()),
    "updated_at" timestamp with time zone NOT NULL,
    CONSTRAINT "fk_gift_registry_items_contacts_buyer_contact_id" FOREIGN KEY ("buyer_contact_id") REFERENCES "contacts" ("id") ON DELETE SET NULL,
    CONSTRAINT "fk_gift_registry_items_events_event_id" FOREIGN KEY ("event_id") REFERENCES "events" ("id") ON DELETE CASCADE
);
2025-10-06 11:37:11.475 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "guests" (
    "id" character varying(255) NOT NULL CONSTRAINT "pk_guests" PRIMARY KEY,
    "event_id" character varying(255) NOT NULL,
    "contact_id" character varying(255) NOT NULL,
    "invite_status" text NOT NULL DEFAULT 'nao_enviado',
    "rsvp" text NOT NULL DEFAULT 'pendente',
    "seats" integer NOT NULL DEFAULT 1,
    "children" integer NOT NULL DEFAULT 0,
    "transport_needed" boolean NOT NULL DEFAULT 0,
    "opt_out" boolean NOT NULL DEFAULT 0,
    "created_at" timestamp with time zone NOT NULL DEFAULT (now()),
    "updated_at" timestamp with time zone NOT NULL,
    CONSTRAINT "fk_guests_contacts_contact_id" FOREIGN KEY ("contact_id") REFERENCES "contacts" ("id") ON DELETE RESTRICT,
    CONSTRAINT "fk_guests_events_event_id" FOREIGN KEY ("event_id") REFERENCES "events" ("id") ON DELETE CASCADE
);
2025-10-06 11:37:11.476 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "interactions" (
    "id" character varying(255) NOT NULL CONSTRAINT "pk_interactions" PRIMARY KEY,
    "event_id" character varying(255) NOT NULL,
    "contact_id" character varying(255) NOT NULL,
    "channel" text NOT NULL,
    "kind" text NOT NULL,
    "payload_json" jsonb NOT NULL,
    "occurred_at" timestamp with time zone NOT NULL DEFAULT (now()),
    CONSTRAINT "fk_interactions_contacts_contact_id" FOREIGN KEY ("contact_id") REFERENCES "contacts" ("id") ON DELETE RESTRICT,
    CONSTRAINT "fk_interactions_events_event_id" FOREIGN KEY ("event_id") REFERENCES "events" ("id") ON DELETE CASCADE
);
2025-10-06 11:37:11.476 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "checkins" (
    "id" character varying(255) NOT NULL CONSTRAINT "pk_checkins" PRIMARY KEY,
    "event_id" character varying(255) NOT NULL,
    "guest_id" character varying(255) NOT NULL,
    "at_gate" boolean NOT NULL DEFAULT 1,
    "timestamp" timestamp with time zone NOT NULL DEFAULT (now()),
    CONSTRAINT "fk_checkins_events_event_id" FOREIGN KEY ("event_id") REFERENCES "events" ("id") ON DELETE CASCADE,
    CONSTRAINT "fk_checkins_guests_guest_id" FOREIGN KEY ("guest_id") REFERENCES "guests" ("id") ON DELETE RESTRICT
);
2025-10-06 11:37:11.476 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "guest_tags" (
    "guest_id" character varying(255) NOT NULL,
    "tag_id" character varying(255) NOT NULL,
    CONSTRAINT "pk_guest_tags" PRIMARY KEY ("guest_id", "tag_id"),
    CONSTRAINT "fk_guest_tags_guests_guest_id" FOREIGN KEY ("guest_id") REFERENCES "guests" ("id") ON DELETE CASCADE,
    CONSTRAINT "fk_guest_tags_segment_tags_tag_id" FOREIGN KEY ("tag_id") REFERENCES "segment_tags" ("id") ON DELETE CASCADE
);
2025-10-06 11:37:11.476 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "seat_assignments" (
    "id" character varying(255) NOT NULL CONSTRAINT "pk_seat_assignments" PRIMARY KEY,
    "guest_id" character varying(255) NOT NULL,
    "seat_id" character varying(255) NOT NULL,
    "locked" boolean NOT NULL DEFAULT 0,
    CONSTRAINT "fk_seat_assignments_guests_guest_id" FOREIGN KEY ("guest_id") REFERENCES "guests" ("id") ON DELETE CASCADE,
    CONSTRAINT "fk_seat_assignments_seats_seat_id" FOREIGN KEY ("seat_id") REFERENCES "seats" ("id") ON DELETE CASCADE
);
2025-10-06 11:37:11.476 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "ix_checkins_event_id" ON "checkins" ("event_id");
2025-10-06 11:37:11.476 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "ix_checkins_guest_id" ON "checkins" ("guest_id");
2025-10-06 11:37:11.477 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "ix_consent_logs_contact_id" ON "consent_logs" ("contact_id");
2025-10-06 11:37:11.477 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "ix_contacts_household_id" ON "contacts" ("household_id");
2025-10-06 11:37:11.477 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "ix_contacts_phone" ON "contacts" ("phone");
2025-10-06 11:37:11.477 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "ix_engagement_scores_event_id_tier" ON "engagement_scores" ("event_id", "tier");
2025-10-06 11:37:11.477 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "ix_event_logs_created_at" ON "event_logs" ("created_at");
2025-10-06 11:37:11.477 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "ix_event_logs_event_id" ON "event_logs" ("event_id");
2025-10-06 11:37:11.477 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "ix_event_logs_source" ON "event_logs" ("source");
2025-10-06 11:37:11.477 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "ix_gift_registry_items_buyer_contact_id" ON "gift_registry_items" ("buyer_contact_id");
2025-10-06 11:37:11.477 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "ix_gift_registry_items_event_id" ON "gift_registry_items" ("event_id");
2025-10-06 11:37:11.477 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "ix_gift_registry_items_status" ON "gift_registry_items" ("status");
2025-10-06 11:37:11.478 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "ix_guest_tags_tag_id" ON "guest_tags" ("tag_id");
2025-10-06 11:37:11.478 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "ix_guests_contact_id" ON "guests" ("contact_id");
2025-10-06 11:37:11.478 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "ix_guests_event_id" ON "guests" ("event_id");
2025-10-06 11:37:11.478 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "ix_guests_event_id_contact_id" ON "guests" ("event_id", "contact_id");
2025-10-06 11:37:11.478 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "ix_guests_rsvp" ON "guests" ("rsvp");
2025-10-06 11:37:11.478 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "ix_interactions_contact_id" ON "interactions" ("contact_id");
2025-10-06 11:37:11.478 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "ix_interactions_event_id" ON "interactions" ("event_id");
2025-10-06 11:37:11.478 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "ix_interactions_occurred_at" ON "interactions" ("occurred_at");
2025-10-06 11:37:11.478 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "ix_message_templates_event_id" ON "message_templates" ("event_id");
2025-10-06 11:37:11.478 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "ix_seat_assignments_guest_id" ON "seat_assignments" ("guest_id");
2025-10-06 11:37:11.479 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "ix_seat_assignments_seat_id" ON "seat_assignments" ("seat_id");
2025-10-06 11:37:11.479 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "ix_seats_table_id" ON "seats" ("table_id");
2025-10-06 11:37:11.479 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "ix_seats_table_id_index" ON "seats" ("table_id", "index");
2025-10-06 11:37:11.479 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "ix_segment_tags_event_id" ON "segment_tags" ("event_id");
2025-10-06 11:37:11.479 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "ix_tables_event_id" ON "tables" ("event_id");
2025-10-06 11:37:11.479 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "ix_tasks_due_at" ON "tasks" ("due_at");
2025-10-06 11:37:11.479 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "ix_tasks_event_id" ON "tasks" ("event_id");
2025-10-06 11:37:11.479 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "ix_tasks_related_vendor_id" ON "tasks" ("related_vendor_id");
2025-10-06 11:37:11.479 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "ix_tasks_status" ON "tasks" ("status");
2025-10-06 11:37:11.480 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "ix_timeline_entries_event_id" ON "timeline_entries" ("event_id");
2025-10-06 11:37:11.480 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "ix_timeline_entries_occurred_at" ON "timeline_entries" ("occurred_at");
2025-10-06 11:37:11.480 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "ix_vendor_media_sort_order" ON "vendor_media" ("sort_order");
2025-10-06 11:37:11.480 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "ix_vendor_media_vendor_id_type" ON "vendor_media" ("vendor_id", "type");
2025-10-06 11:37:11.480 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "ix_vendor_notes_vendor_id" ON "vendor_notes" ("vendor_id");
2025-10-06 11:37:11.480 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "ix_vendor_partners_city_state" ON "vendor_partners" ("city", "state");
2025-10-06 11:37:11.480 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "ix_vendor_partners_email" ON "vendor_partners" ("email");
2025-10-06 11:37:11.480 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "ix_vendor_partners_phone_e164" ON "vendor_partners" ("phone_e164");
2025-10-06 11:37:11.481 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "ix_vendor_partners_slug" ON "vendor_partners" ("slug");
2025-10-06 11:37:11.481 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "ix_vendor_partners_status" ON "vendor_partners" ("status");
2025-10-06 11:37:11.481 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "ix_vendor_reviews_rating" ON "vendor_reviews" ("rating");
2025-10-06 11:37:11.481 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "ix_vendor_reviews_vendor_id" ON "vendor_reviews" ("vendor_id");
2025-10-06 11:37:11.481 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "ix_vendor_status_log_created_at" ON "vendor_status_log" ("created_at");
2025-10-06 11:37:11.481 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "ix_vendor_status_log_vendor_id" ON "vendor_status_log" ("vendor_id");
2025-10-06 11:37:11.481 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "ix_vendors_event_id" ON "vendors" ("event_id");
2025-10-06 11:37:11.482 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20251002024201_InitialCreate', '8.0.8');
2025-10-06 11:39:44.564 -03:00 [WRN] The WebRootPath was not found: C:\Users\NPC TECH\Downloads\Celebre\celebra-mvp\backend\src\Celebre.Api\wwwroot. Static files may be unavailable.
2025-10-06 11:39:44.677 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44387/swagger - null null
2025-10-06 11:39:44.724 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-06 11:39:44.724 -03:00 [INF] Hosting environment: Development
2025-10-06 11:39:44.724 -03:00 [INF] Content root path: C:\Users\NPC TECH\Downloads\Celebre\celebra-mvp\backend\src\Celebre.Api
2025-10-06 11:39:45.361 -03:00 [INF] HTTP GET /swagger responded 302 in 3.0514 ms
2025-10-06 11:39:45.411 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44387/swagger/index.html - null null
2025-10-06 11:39:45.419 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44387/swagger - 302 null null 747.3679ms
2025-10-06 11:39:45.549 -03:00 [INF] HTTP GET /swagger/index.html responded 200 in 132.3896 ms
2025-10-06 11:39:45.550 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44387/swagger/index.html - 200 null text/html; charset=utf-8 139.5422ms
2025-10-06 11:39:45.643 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44387/swagger/swagger-ui.css - null null
2025-10-06 11:39:45.643 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44387/swagger/swagger-ui-standalone-preset.js - null null
2025-10-06 11:39:45.644 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44387/swagger/index.css - null null
2025-10-06 11:39:45.644 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44387/swagger/swagger-ui-bundle.js - null null
2025-10-06 11:39:45.647 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44387/_framework/aspnetcore-browser-refresh.js - null null
2025-10-06 11:39:45.657 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44387/_vs/browserLink - null null
2025-10-06 11:39:45.668 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44387/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 21.1554ms
2025-10-06 11:39:45.689 -03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-10-06 11:39:45.689 -03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-10-06 11:39:45.691 -03:00 [INF] HTTP GET /swagger/swagger-ui.css responded 200 in 44.7543 ms
2025-10-06 11:39:45.691 -03:00 [INF] HTTP GET /swagger/swagger-ui-standalone-preset.js responded 200 in 44.7064 ms
2025-10-06 11:39:45.690 -03:00 [INF] Sending file. Request path: '/index.css'. Physical path: 'N/A'
2025-10-06 11:39:45.691 -03:00 [INF] HTTP GET /swagger/index.css responded 200 in 44.9893 ms
2025-10-06 11:39:45.692 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44387/swagger/index.css - 200 218 text/css 49.1499ms
2025-10-06 11:39:45.707 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44387/swagger/swagger-ui.css - 200 152073 text/css 58.1044ms
2025-10-06 11:39:45.710 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44387/swagger/swagger-ui-standalone-preset.js - 200 230294 text/javascript 67.0305ms
2025-10-06 11:39:45.715 -03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-10-06 11:39:45.715 -03:00 [INF] HTTP GET /swagger/swagger-ui-bundle.js responded 200 in 69.1833 ms
2025-10-06 11:39:45.776 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44387/swagger/swagger-ui-bundle.js - 200 1452754 text/javascript 132.514ms
2025-10-06 11:39:45.783 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44387/_vs/browserLink - 200 null text/javascript; charset=UTF-8 127.6138ms
2025-10-06 11:39:46.399 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - null null
2025-10-06 11:39:46.967 -03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 567.0443 ms
2025-10-06 11:39:46.968 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - 200 null application/json; charset=utf-8 569.8366ms
2025-10-06 11:55:00.547 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44387/api/events/cmg7932an000013g79a1jig3q/segments - null null
2025-10-06 11:55:00.615 -03:00 [INF] Executing endpoint 'Celebre.Api.Controllers.SegmentsController.GetSegments (Celebre.Api)'
2025-10-06 11:55:00.637 -03:00 [INF] Route matched with {action = "GetSegments", controller = "Segments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSegments(System.String) on controller Celebre.Api.Controllers.SegmentsController (Celebre.Api).
2025-10-06 11:55:01.660 -03:00 [WRN] The 'ContactRelation' property 'Relation' on entity type 'Contact' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value 'familia', since this is the CLR default for the 'ContactRelation' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-10-06 11:55:01.956 -03:00 [INF] Executed DbCommand (20ms) [Parameters=[@__eventId_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id", "s"."event_id" AS "EventId", "s"."Name", "s"."rule_json" AS "RuleJson", "s"."is_dynamic" AS "IsDynamic", "s"."created_at" AS "CreatedAt"
FROM "segment_tags" AS "s"
WHERE "s"."event_id" = @__eventId_0
2025-10-06 11:55:01.968 -03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType15`1[[System.Collections.Generic.List`1[[<>f__AnonymousType14`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTimeOffset, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Celebre.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-10-06 11:55:01.977 -03:00 [INF] Executed action Celebre.Api.Controllers.SegmentsController.GetSegments (Celebre.Api) in 1337.7808ms
2025-10-06 11:55:01.977 -03:00 [INF] Executed endpoint 'Celebre.Api.Controllers.SegmentsController.GetSegments (Celebre.Api)'
2025-10-06 11:55:01.977 -03:00 [INF] HTTP GET /api/events/cmg7932an000013g79a1jig3q/segments responded 200 in 1368.6046 ms
2025-10-06 11:55:01.981 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44387/api/events/cmg7932an000013g79a1jig3q/segments - 200 null application/json; charset=utf-8 1462.3635ms
2025-10-06 11:55:16.477 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44387/api/events/cmg7932an000013g79a1jig3q/guests?page=1&limit=50 - null null
2025-10-06 11:55:16.480 -03:00 [INF] Executing endpoint 'Celebre.Api.Controllers.GuestsController.GetGuests (Celebre.Api)'
2025-10-06 11:55:16.484 -03:00 [INF] Route matched with {action = "GetGuests", controller = "Guests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGuests(System.String, System.String, System.String, Int32, Int32) on controller Celebre.Api.Controllers.GuestsController (Celebre.Api).
2025-10-06 11:55:16.551 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__request_EventId_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "guests" AS "g"
WHERE "g"."event_id" = @__request_EventId_0
2025-10-06 11:55:16.635 -03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-10-06 11:55:16.644 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_EventId_0='?' (Size = 25), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Children", "t"."contact_id", "t"."created_at", "t"."event_id", "t"."invite_status", "t"."opt_out", "t"."Rsvp", "t"."Seats", "t"."transport_needed", "t"."updated_at", "t"."Id0", "t"."created_at0", "t"."Email", "t"."full_name", "t"."household_id", "t"."is_vip", "t"."Notes", "t"."Phone", "t"."Relation", "t"."restrictions_json", "t"."updated_at0", "h"."Id", "h"."created_at", "h"."Label", "h"."size_cached", "h"."updated_at", "t0"."contact_id", "t0"."event_id", "t0"."Tier", "t0"."updated_at", "t0"."Value", "t1"."Id", "t1"."guest_id", "t1"."Locked", "t1"."seat_id", "t1"."Id0", "t1"."Index", "t1"."Rotation", "t1"."table_id", "t1"."X", "t1"."Y", "t1"."Id1", "t1"."Capacity", "t1"."created_at", "t1"."event_id", "t1"."Label", "t1"."Rotation0", "t1"."Shape", "t1"."updated_at", "t1"."X0", "t1"."Y0", "t1"."Zone", "t3"."guest_id", "t3"."tag_id", "t3"."Id", "t3"."created_at", "t3"."event_id", "t3"."is_dynamic", "t3"."Name", "t3"."rule_json", "t3"."updated_at"
FROM (
    SELECT "g"."Id", "g"."Children", "g"."contact_id", "g"."created_at", "g"."event_id", "g"."invite_status", "g"."opt_out", "g"."Rsvp", "g"."Seats", "g"."transport_needed", "g"."updated_at", "c"."Id" AS "Id0", "c"."created_at" AS "created_at0", "c"."Email", "c"."full_name", "c"."household_id", "c"."is_vip", "c"."Notes", "c"."Phone", "c"."Relation", "c"."restrictions_json", "c"."updated_at" AS "updated_at0"
    FROM "guests" AS "g"
    INNER JOIN "contacts" AS "c" ON "g"."contact_id" = "c"."Id"
    WHERE "g"."event_id" = @__request_EventId_0
    ORDER BY "c"."is_vip" DESC, "g"."Rsvp", "c"."full_name"
    LIMIT @__p_2 OFFSET @__p_1
) AS "t"
LEFT JOIN "households" AS "h" ON "t"."household_id" = "h"."Id"
LEFT JOIN (
    SELECT "e"."contact_id", "e"."event_id", "e"."Tier", "e"."updated_at", "e"."Value"
    FROM "engagement_scores" AS "e"
    WHERE "e"."event_id" = @__request_EventId_0
) AS "t0" ON "t"."Id0" = "t0"."contact_id"
LEFT JOIN (
    SELECT "s"."Id", "s"."guest_id", "s"."Locked", "s"."seat_id", "s0"."Id" AS "Id0", "s0"."Index", "s0"."Rotation", "s0"."table_id", "s0"."X", "s0"."Y", "t2"."Id" AS "Id1", "t2"."Capacity", "t2"."created_at", "t2"."event_id", "t2"."Label", "t2"."Rotation" AS "Rotation0", "t2"."Shape", "t2"."updated_at", "t2"."X" AS "X0", "t2"."Y" AS "Y0", "t2"."Zone"
    FROM "seat_assignments" AS "s"
    INNER JOIN "seats" AS "s0" ON "s"."seat_id" = "s0"."Id"
    INNER JOIN "tables" AS "t2" ON "s0"."table_id" = "t2"."Id"
) AS "t1" ON "t"."Id" = "t1"."guest_id"
LEFT JOIN (
    SELECT "g0"."guest_id", "g0"."tag_id", "s1"."Id", "s1"."created_at", "s1"."event_id", "s1"."is_dynamic", "s1"."Name", "s1"."rule_json", "s1"."updated_at"
    FROM "guest_tags" AS "g0"
    INNER JOIN "segment_tags" AS "s1" ON "g0"."tag_id" = "s1"."Id"
) AS "t3" ON "t"."Id" = "t3"."guest_id"
ORDER BY "t"."is_vip" DESC, "t"."Rsvp", "t"."full_name", "t"."Id", "t"."Id0", "h"."Id", "t0"."contact_id", "t0"."event_id", "t1"."Id", "t1"."Id0", "t1"."Id1", "t3"."guest_id", "t3"."tag_id"
2025-10-06 11:55:16.646 -03:00 [INF] Executing OkObjectResult, writing value of type 'Celebre.Application.Features.Guests.DTOs.PagedGuestsResponse'.
2025-10-06 11:55:16.653 -03:00 [INF] Executed action Celebre.Api.Controllers.GuestsController.GetGuests (Celebre.Api) in 169.0374ms
2025-10-06 11:55:16.653 -03:00 [INF] Executed endpoint 'Celebre.Api.Controllers.GuestsController.GetGuests (Celebre.Api)'
2025-10-06 11:55:16.653 -03:00 [INF] HTTP GET /api/events/cmg7932an000013g79a1jig3q/guests responded 200 in 173.8306 ms
2025-10-06 11:55:16.654 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44387/api/events/cmg7932an000013g79a1jig3q/guests?page=1&limit=50 - 200 null application/json; charset=utf-8 177.0896ms
2025-10-06 11:55:31.079 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44387/api/events/cmg7932an000013g79a1jig3q/gifts?page=1&limit=50 - null null
2025-10-06 11:55:31.080 -03:00 [INF] Executing endpoint 'Celebre.Api.Controllers.GiftsController.GetGifts (Celebre.Api)'
2025-10-06 11:55:31.083 -03:00 [INF] Route matched with {action = "GetGifts", controller = "Gifts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGifts(System.String, System.String, Int32, Int32) on controller Celebre.Api.Controllers.GiftsController (Celebre.Api).
2025-10-06 11:55:31.101 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__request_EventId_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "gift_registry_items" AS "g"
WHERE "g"."event_id" = @__request_EventId_0
2025-10-06 11:55:31.108 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__request_EventId_0='?' (Size = 25), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."buyer_contact_id", "t"."created_at", "t"."event_id", "t"."Link", "t"."Price", "t"."Status", "t"."Title", "t"."updated_at", "c"."Id", "c"."created_at", "c"."Email", "c"."full_name", "c"."household_id", "c"."is_vip", "c"."Notes", "c"."Phone", "c"."Relation", "c"."restrictions_json", "c"."updated_at"
FROM (
    SELECT "g"."Id", "g"."buyer_contact_id", "g"."created_at", "g"."event_id", "g"."Link", "g"."Price", "g"."Status", "g"."Title", "g"."updated_at"
    FROM "gift_registry_items" AS "g"
    WHERE "g"."event_id" = @__request_EventId_0
    ORDER BY "g"."Title"
    LIMIT @__p_2 OFFSET @__p_1
) AS "t"
LEFT JOIN "contacts" AS "c" ON "t"."buyer_contact_id" = "c"."Id"
ORDER BY "t"."Title"
2025-10-06 11:55:31.108 -03:00 [INF] Executing OkObjectResult, writing value of type 'Celebre.Application.Features.Gifts.DTOs.PagedGiftsResponse'.
2025-10-06 11:55:31.115 -03:00 [INF] Executed action Celebre.Api.Controllers.GiftsController.GetGifts (Celebre.Api) in 31.2491ms
2025-10-06 11:55:31.115 -03:00 [INF] Executed endpoint 'Celebre.Api.Controllers.GiftsController.GetGifts (Celebre.Api)'
2025-10-06 11:55:31.115 -03:00 [INF] HTTP GET /api/events/cmg7932an000013g79a1jig3q/gifts responded 200 in 35.1718 ms
2025-10-06 11:55:31.115 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44387/api/events/cmg7932an000013g79a1jig3q/gifts?page=1&limit=50 - 200 null application/json; charset=utf-8 35.9531ms
